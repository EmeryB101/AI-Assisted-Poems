<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Connected/Disconnected - An interactive poem through text conversations">
    <title>Interactive Poem: Disconnected</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 40px;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 25%, #16213e 50%, #1a1a2e 75%, #0a0a0a 100%);
            background-size: 400% 400%;
            animation: backgroundShift 15s ease infinite;
            font-family: 'Courier New', monospace;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow-x: hidden;
        }

        @keyframes backgroundShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 900px;
            background: rgba(10, 10, 10, 0.85);
            padding: 60px;
            box-shadow: 0 0 40px rgba(0, 212, 255, 0.3);
            position: relative;
            border: 1px solid rgba(0, 212, 255, 0.3);
            z-index: 1;
        }

        h1 {
            text-align: center;
            color: #00d4ff;
            margin-bottom: 40px;
            font-size: 1.8em;
            letter-spacing: 4px;
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
        }

        /* Phone container */
        .phone {
            width: 360px;
            height: 720px;
            margin: 0 auto;
            background: #1a1a1a;
            border: 12px solid #2a2a2a;
            border-radius: 40px;
            box-shadow: 0 0 40px rgba(0, 212, 255, 0.3), inset 0 0 20px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
        }

        .phone::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 30px;
            background: #2a2a2a;
            border-radius: 0 0 20px 20px;
            z-index: 5;
            pointer-events: none;
        }

        .status-bar {
            position: absolute;
            top: 10px;
            left: 0;
            right: 0;
            height: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            color: #00d4ff;
            font-size: 11px;
            z-index: 6;
            pointer-events: none;
        }

        .screen {
            position: absolute;
            top: 50px;
            left: 0;
            right: 0;
            bottom: 20px;
            background: linear-gradient(135deg, #0d0d0d, #1a1a1a);
            overflow-y: auto;
            padding: 20px;
        }

        .app-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin-bottom: 40px;
        }

        .app-item {
            text-align: center;
        }

        .app-icon {
            width: 70px;
            height: 70px;
            margin: 0 auto 8px;
            border-radius: 18px;
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.3), rgba(123, 44, 191, 0.3));
            border: 2px solid rgba(0, 212, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
        }

        .app-icon:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.6);
        }

        .app-icon.visited {
            opacity: 0.5;
        }

        .app-label {
            color: #00d4ff;
            font-size: 11px;
            letter-spacing: 0.5px;
        }

        /* Chat overlay */
        .chat-overlay {
            position: absolute;
            top: 50px;
            left: 0;
            right: 0;
            bottom: 20px;
            background: rgba(0, 0, 0, 0.98);
            padding: 15px 10px 120px 10px;
            display: none;
            overflow-y: auto;
            z-index: 10;
        }

        .chat-overlay.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: rgba(0, 212, 255, 0.2);
            border: 2px solid #00d4ff;
            color: #00d4ff;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 20;
        }

        .close-btn:hover {
            background: rgba(0, 212, 255, 0.4);
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.6);
        }

        .messages {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .message {
            max-width: 75%;
            padding: 11px 14px;
            border-radius: 18px;
            line-height: 1.5;
            font-size: 0.95em;
            animation: bubbleAppear 0.4s ease;
        }

        @keyframes bubbleAppear {
            from {
                opacity: 0;
                transform: scale(0.85) translateY(8px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .message.them {
            align-self: flex-start;
            background: rgba(0, 212, 255, 0.2);
            border: 1px solid rgba(0, 212, 255, 0.4);
            color: #00d4ff;
        }

        .message.you {
            align-self: flex-end;
            background: rgba(255, 0, 110, 0.2);
            border: 1px solid rgba(255, 0, 110, 0.4);
            color: #ff006e;
        }

        .message.failed {
            align-self: center;
            background: rgba(220, 53, 69, 0.15);
            border: 1px solid rgba(220, 53, 69, 0.5);
            color: #dc3545;
            font-size: 0.85em;
            font-style: italic;
            text-align: center;
            animation: failureShake 0.5s ease;
        }

        @keyframes failureShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .choices {
            position: fixed;
            bottom: 20px;
            left: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.95);
            border: 2px solid rgba(0, 212, 255, 0.5);
            border-radius: 15px;
            padding: 12px;
            display: none;
            flex-direction: column;
            gap: 8px;
            z-index: 15;
        }

        .choices.active {
            display: flex;
        }

        .choice-btn {
            padding: 10px 15px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.4);
            border-radius: 12px;
            color: #00d4ff;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
            text-align: center;
            font-family: 'Courier New', monospace;
        }

        .choice-btn:hover {
            background: rgba(0, 212, 255, 0.3);
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.5);
            transform: translateY(-2px);
        }

        /* Power display */
        .power-display {
            position: absolute;
            top: 50px;
            left: 0;
            right: 0;
            bottom: 20px;
            background: rgba(0, 0, 0, 0.98);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        .power-display.active {
            display: flex;
            animation: fadeIn 0.5s ease;
        }

        .power-btn {
            padding: 15px 40px;
            background: rgba(255, 0, 110, 0.3);
            border: 2px solid #ff006e;
            color: #ff006e;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s ease;
            font-family: 'Courier New', monospace;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .power-btn:hover {
            background: rgba(255, 0, 110, 0.5);
            box-shadow: 0 0 20px rgba(255, 0, 110, 0.6);
        }

        .shutdown-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #000;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }

        .shutdown-overlay.active {
            display: flex;
            animation: powerDown 4s ease forwards;
        }

        @keyframes powerDown {
            0% {
                opacity: 1;
                filter: brightness(1);
            }
            40% {
                opacity: 1;
                filter: brightness(0.5);
            }
            70% {
                opacity: 0.9;
                transform: scaleY(0.1);
                filter: brightness(0.1);
            }
            100% {
                opacity: 0;
                transform: scaleY(0);
            }
        }

        .shutdown-text {
            color: #fff;
            font-size: 1.3em;
            text-align: center;
            margin: 10px 0;
            animation: fadeShutdown 3s ease forwards;
            opacity: 0;
        }

        @keyframes fadeShutdown {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            25% {
                opacity: 1;
                transform: translateY(0);
            }
            75% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <canvas class="matrix-bg" id="matrix"></canvas>

    <main class="container">
        <h1>CONNECTED / DISCONNECTED</h1>

        <div class="phone">
            <div class="status-bar">
                <div>üì∂</div>
                <div>12:34</div>
                <div>89%</div>
            </div>

            <!-- Home screen with app icons -->
            <div class="screen" id="homeScreen">
                <div class="app-grid">
                    <div class="app-item">
                        <div class="app-icon" data-app="0">üì±</div>
                        <div class="app-label">Screen</div>
                    </div>
                    <div class="app-item">
                        <div class="app-icon" data-app="1">üîî</div>
                        <div class="app-label">Notify</div>
                    </div>
                    <div class="app-item">
                        <div class="app-icon" data-app="2">üë•</div>
                        <div class="app-label">Social</div>
                    </div>
                    <div class="app-item">
                        <div class="app-icon" data-app="3">üëÅÔ∏è</div>
                        <div class="app-label">Camera</div>
                    </div>
                    <div class="app-item">
                        <div class="app-icon" data-app="4">üìú</div>
                        <div class="app-label">Feed</div>
                    </div>
                    <div class="app-item">
                        <div class="app-icon" data-app="5">üí≠</div>
                        <div class="app-label">Empty</div>
                    </div>
                    <div class="app-item">
                        <div class="app-icon" data-app="6">üìä</div>
                        <div class="app-label">Info</div>
                    </div>
                    <div class="app-item">
                        <div class="app-icon" data-app="7">üåä</div>
                        <div class="app-label">Stream</div>
                    </div>
                    <div class="app-item">
                        <div class="app-icon" data-app="8">üß†</div>
                        <div class="app-label">Memory</div>
                    </div>
                </div>
            </div>

            <!-- Chat overlay -->
            <div class="chat-overlay" id="chatOverlay">
                <button class="close-btn" id="closeBtn">√ó</button>
                <div class="messages" id="messages"></div>
                <div class="choices" id="choices"></div>
            </div>

            <!-- Power display -->
            <div class="power-display" id="powerDisplay">
                <button class="power-btn" id="powerBtn">Power Off</button>
            </div>

            <!-- Shutdown overlay -->
            <div class="shutdown-overlay" id="shutdownOverlay">
                <div class="shutdown-text">maybe silence</div>
                <div class="shutdown-text" style="animation-delay: 1s;">is connection</div>
            </div>
        </div>
    </main>

    <script>
        // Conversation data with poetic devices
        const conversations = {
            0: [ // Screen
                { from: 'them', text: 'glass between us, cold and clear‚Äî' },
                { from: 'you', choices: ['shimmering separation', 'see-through silence', 'surface so smooth', 'can\'t cross it'] },
                { from: 'them', text: 'skin craves skin, but finds only screen' },
                { from: 'you', choices: ['smooth, sterile stillness', 'warmth turned winter', 'touch turned digital', 'nothing real remains'] },
                { from: 'them', text: 'do you remember what hands felt like?' },
                { from: 'you', choices: ['barely breathing memory', 'fading like photographs', 'never knew', 'trying to forget'] }
            ],
            1: [ // Notify
                { from: 'them', text: 'every ping a prayer‚Äî' },
                { from: 'you', choices: ['please be present', 'prove you\'re there', 'pull me closer', 'piercing silence'] },
                { from: 'them', text: 'waiting, watching, willing you to‚Äî' },
                { from: 'you', choices: ['answer this ache', 'witness my wounds', 'wake from wherever', 'wander away'] },
                { from: 'them', text: 'how many notifications until you notice?' },
                { from: 'you', choices: ['counting each cry', 'drowning in digits', 'never enough', 'stopped counting'] }
            ],
            2: [ // Social
                { from: 'them', text: 'alone together, scrolling in sync‚Äî' },
                { from: 'you', choices: ['crowded by ghosts', 'companions in vacancy', 'curating our cages', 'lost in the scroll'] },
                { from: 'them', text: 'swipe left on loneliness, still lonely‚Äî' },
                { from: 'you', choices: ['likes won\'t love me', 'followers who flee', 'hearts hollow as hell', 'no one's really there'] },
                { from: 'them', text: 'when did connection become collection?' },
                { from: 'you', choices: ['cataloging our collapse', 'measuring in metrics', 'can\'t remember before', 'connection died quietly'] }
            ],
            3: [ // Camera
                { from: 'them', text: 'through the lens, are you looking at me?' },
                { from: 'you', choices: ['gazing through glass', 'glimpsing your ghost', 'seeing only screens', 'somewhere beneath pixels'] },
                { from: 'them', text: 'filter upon filter, faces fade‚Äî' },
                { from: 'you', choices: ['beauty bleached blank', 'perfected into nothing', 'polished till invisible', 'can\'t find the real'] },
                { from: 'them', text: 'who are we without the glow?' },
                { from: 'you', choices: ['buried beneath brightness', 'forgotten behind filters', 'never knew ourselves', 'nothing without it'] }
            ],
            4: [ // Feed
                { from: 'them', text: 'fingers forever scrolling, seeking‚Äî' },
                { from: 'you', choices: ['sustenance in silence', 'feeding on fragments', 'scrolling past souls', 'starving while consuming'] },
                { from: 'them', text: 'we swallow stories, stay hungry‚Äî' },
                { from: 'you', choices: ['feast on the fleeting', 'gorging on ghosts', 'full of emptiness', 'never satisfied'] },
                { from: 'them', text: 'what were we hungry for, before?' },
                { from: 'you', choices: ['meaning, maybe', 'moments, not metrics', 'can\'t remember feasts', 'nothing nourishes now'] }
            ],
            5: [ // Empty
                { from: 'them', text: 'hollow hearts, holding nothing‚Äî' },
                { from: 'you', choices: ['echoing endlessly', 'emptiness within emptiness', 'hungry for something heavy', 'void seeking void'] },
                { from: 'them', text: 'we fill the silence with noise‚Äî' },
                { from: 'you', choices: ['still so quiet inside', 'sound won\'t save us', 'screaming into stillness', 'nothing fills it'] },
                { from: 'them', text: 'is emptiness all that\'s left?' },
                { from: 'you', choices: ['all I\'ve ever known', 'aching for absence', 'emptiness is everything', 'can\'t feel fullness'] }
            ],
            6: [ // Info
                { from: 'them', text: 'drowning in data, gasping for truth‚Äî' },
                { from: 'you', choices: ['buried beneath bytes', 'suffocating in signals', 'thirsty while drowning', 'truth turns to static'] },
                { from: 'them', text: 'they promised knowledge, delivered noise‚Äî' },
                { from: 'you', choices: ['wisdom washed away', 'lost in the overflow', 'learning to forget', 'can\'t hear truth anymore'] },
                { from: 'them', text: 'how do we surface from this sea?' },
                { from: 'you', choices: ['swimming toward silence', 'sinking feels safer', 'never learned to float', 'drowning is all we know'] }
            ],
            7: [ // Stream
                { from: 'them', text: 'streaming endlessly, words washed away‚Äî' },
                { from: 'you', choices: ['language liquefied', 'speaking in static', 'silence swallowed whole', 'words won\'t hold weight'] },
                { from: 'them', text: 'we pour ourselves out, evaporate‚Äî' },
                { from: 'you', choices: ['vapor, not voice', 'flooding into nothing', 'flow without form', 'can\'t catch the current'] },
                { from: 'them', text: 'what\'s left when the stream runs dry?' },
                { from: 'you', choices: ['dust of dialogue', 'dried-up desires', 'silence, finally', 'nothing ever was'] }
            ]
        };

        // Negative keywords that trigger message failure
        const negativeKeywords = [
            'never', 'nothing', "can't", 'died', 'no one',
            'stopped', 'trying to forget', 'drowning is all we know',
            'wander away', 'connection died', 'lost in the scroll',
            'nothing real remains', 'never knew', 'never satisfied',
            'nothing nourishes now', 'nothing fills it', 'can\'t feel fullness',
            'can\'t hear truth anymore', 'nothing without it', 'nothing ever was',
            'no one's really there', 'can\'t find the real', 'can\'t remember before'
        ];

        let currentApp = null;
        let currentStep = 0;

        // Get elements
        const chatOverlay = document.getElementById('chatOverlay');
        const powerDisplay = document.getElementById('powerDisplay');
        const messages = document.getElementById('messages');
        const choicesDiv = document.getElementById('choices');
        const closeBtn = document.getElementById('closeBtn');
        const powerBtn = document.getElementById('powerBtn');
        const shutdownOverlay = document.getElementById('shutdownOverlay');

        // Add click listeners to all app icons
        document.querySelectorAll('.app-icon').forEach(icon => {
            icon.addEventListener('click', function() {
                const appId = parseInt(this.getAttribute('data-app'));
                openApp(appId);
                this.classList.add('visited');
            });
        });

        // Close button
        closeBtn.addEventListener('click', closeChat);

        // Power button
        powerBtn.addEventListener('click', powerOff);

        function openApp(appId) {
            currentApp = appId;
            currentStep = 0;

            if (appId === 8) {
                // Memory app - show power display
                powerDisplay.classList.add('active');
            } else {
                // Show chat for other apps
                chatOverlay.classList.add('active');
                messages.innerHTML = '';
                choicesDiv.innerHTML = '';
                startConversation();
            }
        }

        function closeChat() {
            chatOverlay.classList.remove('active');
            powerDisplay.classList.remove('active');
            choicesDiv.classList.remove('active');
            currentApp = null;
            currentStep = 0;
        }

        function startConversation() {
            showNextMessage();
        }

        function showNextMessage() {
            const conversation = conversations[currentApp];

            if (currentStep >= conversation.length) {
                choicesDiv.classList.remove('active');
                return;
            }

            const message = conversation[currentStep];

            if (message.from === 'them') {
                // Show their message
                setTimeout(() => {
                    const msgDiv = document.createElement('div');
                    msgDiv.className = 'message them';
                    msgDiv.textContent = message.text;
                    messages.appendChild(msgDiv);
                    messages.scrollTop = messages.scrollHeight;

                    currentStep++;
                    showNextMessage();
                }, 800);
            } else {
                // Show choices
                choicesDiv.innerHTML = '';
                message.choices.forEach(choice => {
                    const btn = document.createElement('button');
                    btn.className = 'choice-btn';
                    btn.textContent = choice;
                    btn.addEventListener('click', () => selectChoice(choice));
                    choicesDiv.appendChild(btn);
                });
                choicesDiv.classList.add('active');
            }
        }

        function selectChoice(choice) {
            // Hide choices
            choicesDiv.classList.remove('active');

            // Show user's choice
            const msgDiv = document.createElement('div');
            msgDiv.className = 'message you';
            msgDiv.textContent = choice;
            messages.appendChild(msgDiv);
            messages.scrollTop = messages.scrollHeight;

            // Check if choice is negative
            const isNegative = negativeKeywords.some(keyword =>
                choice.toLowerCase().includes(keyword.toLowerCase())
            );

            if (isNegative) {
                // Show delivery failure
                setTimeout(() => {
                    const failDiv = document.createElement('div');
                    failDiv.className = 'message failed';
                    failDiv.textContent = '‚ö† Message Not Delivered';
                    messages.appendChild(failDiv);
                    messages.scrollTop = messages.scrollHeight;
                }, 800);
                // Conversation ends
            } else {
                // Continue conversation
                currentStep++;
                showNextMessage();
            }
        }

        function powerOff() {
            shutdownOverlay.classList.add('active');
            setTimeout(() => {
                document.querySelector('.phone').style.transition = 'opacity 1.5s ease';
                document.querySelector('.phone').style.opacity = '0';
            }, 4000);
        }

        // Matrix background
        const canvas = document.getElementById('matrix');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const chars = '01„Ç¢„Ç§„Ç¶„Ç®„Ç™„Ç´„Ç≠„ÇØ„Ç±„Ç≥„Çµ„Ç∑„Çπ„Çª„ÇΩ„Çø„ÉÅ„ÉÑ„ÉÜ„Éà„Éä„Éã„Éå„Éç„Éé„Éè„Éí„Éï„Éò„Éõ„Éû„Éü„É†„É°„É¢„É§„É¶„É®„É©„É™„É´„É¨„É≠„ÉØ„É≤„É≥';
        const fontSize = 14;
        const columns = canvas.width / fontSize;
        const drops = [];

        for (let i = 0; i < columns; i++) {
            drops[i] = Math.random() * -100;
        }

        function drawMatrix() {
            ctx.fillStyle = 'rgba(10, 10, 10, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = '#00d4ff';
            ctx.font = fontSize + 'px monospace';

            for (let i = 0; i < drops.length; i++) {
                const text = chars[Math.floor(Math.random() * chars.length)];
                const x = i * fontSize;
                const y = drops[i] * fontSize;

                ctx.fillStyle = `rgba(0, 212, 255, ${Math.random() * 0.5 + 0.3})`;
                ctx.fillText(text, x, y);

                if (y > canvas.height && Math.random() > 0.975) {
                    drops[i] = 0;
                }

                drops[i]++;
            }
        }

        setInterval(drawMatrix, 50);

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
